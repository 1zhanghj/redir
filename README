
Redir v.2.1

Redir is a port redirector.  It's functionally basically consists of
the ability to listen for TCP connections on a given port, and, when
it recieves a connection, to then connect to a given destination
address/port, and pass data between them.  It finds most of its
applications in traversing firewalls, but, of course, there are other
uses.  Consult the man page, or run with no options for usage information.

Please check the Makefile to see if you need to make any changes to
get it to compile correctly on your particular unix flavor.

2.1 is just a bugfix release, fixing a problem with ftp redirection,
and adds/fixes various logging messages.  Also a fix for some of the
TCP wrappers code.

2.0 has changed the command line syntax!  You're going to have to
change how you call redir in order to upgrade, but not by all that
much.  We now use --options for everything, instead of having the
rather wonky "if you've got this thing here, something happens" method
used before.  We apologize for the inconvenience, but this is really a
lot less brain damaged.

2.0 now includes support for using TCP wrappers, thanks to a patch
submitted by Damien Miller <damien@ibs.com.au>.  The --name option now
sets the TCP wrapper service name as well as the syslog program name,
making it possible to run multiple instances of redir with different
access controls.  Edit the Makefile to enable TCP wrappers.

2.0 now actually implements --transproxy when running from inetd.

2.0 has cleaned up the --ftp support, at least a little.  There are
probably still improvements to be made here, but, alas.

1.2 now should compile and run correctly on systems which lack
getopt_long.

1.2 adds the option --transproxy, which, when run as super-user on a
linux system which has had transparent proxying compiled into it's
kernel, will make connections seem as if they had come from their true
origin.  see transproxy.txt for further discussion of this option.

1.1 adds the option --ftp, which, when redirecting a port to an FTP
server, will, when the server wants to initiate a passive connection,
redirect another port for that connection.  

1.0 adds the option --bind-addr, which can force it to bind to a
specific address or interface when making outgoing connections.

I'm thinking of eventually doing a version which never forks, but does one
big-honking-select-loop, which probably wouldn't be much of a bother,
and would save a good chunk of ram, but then an FD limit becomes quite
a real possibility.  perhaps an #ifdef selecting the old or new code
would help this...  though, really, this is a known problem with a lot
of proxies, and it doesn't seem to hurt too bad.  depends on the
MAX_FDS (or whatever that define is.  FD_MAX?) on your machine.

Wow.  The authorship/maintnence for this thing has REALLY gotten mangled.  
Credits should, logically, go to the following people:

Nigel Metheringham <Nigel.Metheringham@ThePLAnet.net>
	For taking the code I wrote and making it into a more stable 
	sensible, and usable package.  
Sam Creasey <sammy@oh.verio.com>
	Original author, but this package would be vastly inferior without 
	Nigel's modifications.
Thomas Osterried <thomas@x-berg.in-berlin.de>
	Added the --bind-addr patch.

22 June, 1999 - Sam Creasey <sammy@oh.verio.com>

Bug reports/patches/comments/etc please now to <sammy@oh.verio.com>

Current versions can be found at http://oh.verio.com/~sammy/hacks

redir is distributed under the terms of the GNU Public Licence,
version 2 or later, which was distributed with this source archive in
the file COPYING.

the files in the getopt/ directory are taken from GNU source code
distributed under the same license.  These particular files were
copied from the GNU package gawk-3.0.3, because it happened to be
sitting on my drive at the time.

=======================================================================

Redir v.0.7

redir is a tcp port redirector for unix.
It can run under inetd or stand alone (in which case it handles
multiple connections).  Its 8 bit clean, not limited to line
mode, is small and light.

If you want access control run it under xinetd, or inetd with tcp
wrappers.  Or you could use the tcp wrapper library to extend it and
do fancy access control - if so please let me know.

redir is released under GPL.

	Nigel Metheringham
	Nigel.Metheringham@ThePLAnet.net
	30 June, 1996

=======================================================================

[Original readme from version 0.5]

If you liked daemon, you'll LOVE redir!

Redir, the fully functional (but only in line mode) port redirector for 
unix!  (yeah!  WOOOO!).  Basically, it's like tredir.   But hacked from 
daemon.  And poorly written.   But, hey, it dodges firewalls, and THAT's 
the important part.  I think.  Oh, fuck it.  Look, it's useful.   Good 
for dynamic IP, too.   Trust me, it is.

usage: redir [remote-host] listen_port connect_port

The syntax is a little clumsy, but it works. 

compile with make redir or gcc redir.c -o redir

comments/bugs/flames to sammy@freenet.akron.oh.us

(please, write if you use the program!)



